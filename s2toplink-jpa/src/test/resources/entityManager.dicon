<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE components PUBLIC "-//SEASAR//DTD S2Container 2.4//EN"
	"http://www.seasar.org/dtd/components24.dtd">
<components>
	<include path="javaee5.dicon"/>
	<include path="convention.dicon"/>

<!--
	<component class="org.seasar.framework.jpa.autodetector.PersistenceClassAutoDetector"/>
-->
	<component class="org.seasar.framework.jpa.autodetector.MappingFileAutoDetector"/>
	
	<component class="org.seasar.toplink.jpa.impl.S2TopLinkPersistenceUnitProvider">
		<property name="persistenceProvider">
			<component class="oracle.toplink.essentials.ejb.cmp3.EntityManagerFactoryProvider"/>
		</property>
	</component>
	
	<component name="s2JavaSECMPInitializer" class="org.seasar.toplink.jpa.impl.S2JavaSECMPInitializer">
		<initMethod>#self.initialize(#{})</initMethod>
	</component>

	<component name="entityManagerFactory" class="javax.persistence.EntityManagerFactory">
		jpa.persistenceUnitManager.getEntityManagerFactory("persistenceUnit")
	</component>

	<component name="entityManager" class="org.seasar.framework.jpa.impl.TxScopedEntityManagerProxy"/>
</components>
