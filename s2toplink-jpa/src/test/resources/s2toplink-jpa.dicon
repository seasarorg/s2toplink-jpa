<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE components PUBLIC "-//SEASAR//DTD S2Container 2.4//EN"
	"http://www.seasar.org/dtd/components24.dtd">
<components>
	<include path="convention.dicon"/>

	<component name="javaSECMPInitializer" class="org.seasar.toplink.jpa.impl.S2JavaSECMPInitializer"/>

	<component class="org.seasar.toplink.jpa.impl.PersistenceUnitInfoFactoryImpl"/>
	
	<component class="org.seasar.toplink.jpa.impl.S2TopLinkPersistenceUnitInfoImpl" instance="prototype">
		<property name="classLoader">@java.lang.Thread@currentThread().contextClassLoader</property>
		<property name="newTempClassLoader">
			<component class="org.seasar.framework.container.hotdeploy.HotdeployClassLoader">
				<arg>@java.lang.Thread@currentThread().contextClassLoader</arg>
				<arg>convention.namingConvention</arg>
			</component>
		</property>
	</component>
	
	<component class="org.seasar.toplink.jpa.impl.AutoDetectorFactoryImpl"/>

	<component class="org.seasar.framework.jpa.autodetector.MappingFileAutoDetector"/>
	
	<component class="org.seasar.framework.jpa.autodetector.PersistenceClassAutoDetector">
		<property name="classLoader">
			<component class="org.seasar.framework.container.hotdeploy.HotdeployClassLoader">
				<arg>@java.lang.Thread@currentThread().contextClassLoader</arg>
				<arg>convention.namingConvention</arg>
			</component>
		</property>
	</component>

	<component class="org.seasar.toplink.jpa.impl.JpaInstrumentationImpl"/>
	
</components>
